import{p as a,o as e,i as r,a as s,s as t,r as i}from"./translation.CQeQRbMv.js";import{f as o,t as l,g as d,e as c,a as n,p as v,b as p,s as m,c as u,d as x,u as f,h,i as b,j as g,m as y,r as w,k as j}from"./render.QKICC3eS.js";import{I as k,i as T,h as z}from"./Icon.BrkPFs6D.js";import{e as I,i as S}from"./each.Py9FRQXi.js";import{b as L}from"./input.BAq7o4It.js";import{I as P}from"./zh_TW.BZb4O1o4.js";import{u as R}from"./url-utils.C67tlwIf.js";/* empty css                        */import"./branches.BJ4O7REI.js";var q=b('<p class="text-base text-50 leading-relaxed"> </p>'),A=b('<div class="flex justify-center py-10"><!></div>'),B=b('<div class="card-base p-6 block rounded-[var(--radius-large)]"><a class="block group"><h5 class="mb-2 text-2xl font-bold tracking-tight text-90 group-hover:text-[var(--primary)] transition-colors"><!></h5> <p class="font-normal text-75"><!></p></a></div>'),E=b('<div class="space-y-4"></div>'),N=b('<div class="card-base p-10 text-center text-50 rounded-[var(--radius-large)]"> </div>'),U=b('<div class="card-base p-10 text-center text-50 rounded-[var(--radius-large)]"> </div>'),W=b('<div class="card-base px-6 py-6 md:px-9 md:py-6 mb-4 rounded-[var(--radius-large)]"><div class="mb-4"><div class="flex items-center gap-3 mb-3"><div class="h-8 w-8 rounded-lg bg-[var(--primary)] flex items-center justify-center text-white dark:text-black/70"><!></div> <h1 class="text-3xl font-bold text-90"> </h1></div> <!></div> <div class="relative flex"><div class="relative flex-1"><div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"><!></div> <input type="text" class="block w-full p-4 pl-10 text-sm bg-transparent border border-black/10 dark:border-white/10 rounded-lg focus:ring-[var(--primary)] focus:border-[var(--primary)] hover:border-black/20 dark:hover:border-white/20 text-75 placeholder-50 transition-colors outline-0"/></div></div></div> <div class="grid grid-cols-1 gap-4"><div><!></div></div>',1);function _(b,_){p(_,!1);let C=a(_,"title",24,()=>s(P.search)),D=a(_,"description",8,""),F=y(""),G=y([]),H=y(!1),J=!1;R("/"),R("/");const K=async()=>{if(J&&d(F).trim()){m(H,!0);try{if(window.pagefind){const a=await window.pagefind.search(d(F)),e=await Promise.all(a.results.map(a=>a.data()));m(G,e)}else 0}catch(a){console.error("Search error:",a),m(G,[])}finally{m(H,!1)}}else m(G,[])};let M;e(()=>{const a=async()=>{J=!0;const a=(()=>{if("undefined"!=typeof window)return new URLSearchParams(window.location.search).get("q")||"";return""})();a&&m(F,a),d(F).trim()&&await K()};window.pagefind?a():document.addEventListener("pagefindready",a,{once:!0})});r();var O=W(),Q=o(O),V=g(Q),X=g(V),Y=g(X),Z=g(Y);k(Z,{icon:"material-symbols:search",class:"text-[1.5rem]"}),w(Y);var $=u(Y,2),aa=g($,!0);w($),w(X);var ea=u(X,2),ra=a=>{var e=q(),r=g(e,!0);w(e),l(()=>h(r,D())),n(a,e)};T(ea,a=>{D()&&a(ra)}),w(V);var sa=u(V,2),ta=g(sa),ia=g(ta),oa=g(ia);k(oa,{icon:"material-symbols:search",class:"text-2xl text-50"}),w(ia);var la=u(ia,2);i(la),w(ta),w(sa),w(Q);var da=u(Q,2),ca=g(da),na=g(ca),va=a=>{var e=A(),r=g(e);k(r,{icon:"svg-spinners:ring-resize",class:"text-4xl text-[var(--primary)]"}),w(e),n(a,e)},pa=a=>{var e=j(),r=o(e),i=a=>{var e=E();I(e,5,()=>d(G),S,(a,e)=>{var r=B(),s=g(r),i=g(s),o=g(i);z(o,()=>(d(e),f(()=>d(e).meta.title))),w(i);var c=u(i,2),v=g(c);z(v,()=>(d(e),f(()=>d(e).excerpt))),w(c),w(s),w(r),l(()=>t(s,"href",(d(e),f(()=>d(e).url)))),n(a,r)}),w(e),n(a,e)},c=a=>{var e=j(),r=o(e),t=a=>{var e=N(),r=g(e,!0);w(e),l(a=>h(r,a),[()=>(x(s),x(P),f(()=>s(P.searchNoResults)))]),n(a,e)},i=a=>{var e=U(),r=g(e,!0);w(e),l(a=>h(r,a),[()=>(x(s),x(P),f(()=>s(P.searchTypeSomething)))]),n(a,e)};T(r,a=>{d(F)?a(t):a(i,!1)},!0),n(a,e)};T(r,a=>{d(G),f(()=>d(G).length>0)?a(i):a(c,!1)},!0),n(a,e)};T(na,a=>{d(H)?a(va):a(pa,!1)}),w(ca),w(da),l(a=>{h(aa,C()),t(la,"placeholder",a)},[()=>(x(s),x(P),f(()=>s(P.search)))]),L(la,()=>d(F),a=>m(F,a)),c("input",la,()=>{clearTimeout(M),M=setTimeout(()=>{K()},300)}),n(b,O),v()}export{_ as default};
